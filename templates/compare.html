<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DALAN - Compare Programs</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <link rel="stylesheet" href="/static/homescreenStyle.css">
    <link rel="stylesheet" href="/static/compare.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="sidebar">
        <!-- Logo -->
        <div class="sidebar-logo">
            <img src="/static/img/FINAL.png" alt="DALAN Logo" class="logo-image">
        </div>

        <!-- Main Navigation -->
        <nav class="sidebar-nav">
            <button class="nav-item" data-page="recommended" aria-label="Recommended">
                <i class="bi bi-grid-fill" aria-hidden="true"></i>
                <span class="nav-label">Recommended</span>
            </button>
            <button class="nav-item" data-page="universities" aria-label="Top Universities">
                <i class="bi bi-mortarboard-fill" aria-hidden="true"></i>
                <span class="nav-label">Top Universities</span>
            </button>
            <button class="nav-item" data-page="bookmarks" aria-label="Bookmarks">
                <i class="bi bi-bookmark-fill" aria-hidden="true"></i>
                <span class="nav-label">Bookmarks</span>
            </button>
            <button class="nav-item" data-page="news" aria-label="News">
                <i class="bi bi-newspaper" aria-hidden="true"></i>
                <span class="nav-label">News</span>
            </button>
        </nav>

        <!-- Bottom Navigation -->
        <nav class="sidebar-bottom">
            <button class="nav-item" data-page="settings" aria-label="Settings">
                <i class="bi bi-gear-fill" aria-hidden="true"></i>
                <span class="nav-label">Settings</span>
            </button>
            <button class="nav-item" data-page="support" aria-label="Support">
                <i class="bi bi-headset" aria-hidden="true"></i>
                <span class="nav-label">Support</span>
            </button>
            <button class="nav-item" data-page="logout" aria-label="Log out">
                <i class="bi bi-box-arrow-right" aria-hidden="true"></i>
                <span class="nav-label">Log out</span>
            </button>
        </nav>
    </aside>

    <!-- Main Content Wrapper -->
    <div id="mainWrapper" class="main-wrapper">
        <!-- Header -->
        <header class="header">
            <div class="header-top">
                <!-- Search Bar -->
                <div class="search-container">
                    <label for="searchInput" class="visually-hidden">Search</label>
                    <input 
                        type="search" 
                        id="searchInput"
                        class="search-input" 
                        placeholder="Search university, program, or location"
                        aria-label="Search university, program, or location">
                    <i class="bi bi-search search-icon" aria-hidden="true"></i>
                </div>

                <div class="flex-grow-1"></div>

                <!-- Notification Button -->
                <button class="icon-button" aria-label="Notifications">
                    <i class="bi bi-bell-fill" aria-hidden="true"></i>
                    <span class="badge-dot badge-blue" aria-label="New notifications"></span>
                </button>

                <!-- Messages Button -->
                <button class="icon-button" aria-label="Messages">
                    <i class="bi bi-chat-fill" aria-hidden="true"></i>
                    <span class="badge-dot badge-red" aria-label="New messages"></span>
                </button>

                <!-- Profile -->
                <button class="profile-button" aria-label="User profile menu">
                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop" alt="Kath's profile" class="profile-img">
                    <span class="profile-name">Kath</span>
                    <i class="bi bi-chevron-down" aria-hidden="true"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content compare-content">
            <h1 class="page-title">Compare Programs</h1>

            <!-- Passing Rate Overview Section -->
            <section class="overview-section">
                <div class="section-header">
                    <h2 class="section-title">Passing Rate Overview</h2>
                    <select id="yearSelect" class="year-select" aria-label="Select year">
                        <option value="2025" selected>Year 2025</option>
                        <option value="2024">Year 2024</option>
                        <option value="2023">Year 2023</option>
                        <option value="2022">Year 2022</option>
                        <option value="2021">Year 2021</option>
                        <option value="2020">Year 2020</option>
                        <option value="2019">Year 2019</option>
                        <option value="2018">Year 2018</option>
                        <option value="2017">Year 2017</option>
                        <option value="2016">Year 2016</option>
                        <option value="2015">Year 2015</option>
                    </select>
                </div>

                <div class="charts-container">
                    <!-- Top Programs Chart -->
                    <div class="chart-card">
                        <h3 class="chart-card-title">Top Programs</h3>
                        <div class="chart-wrapper">
                            <canvas id="topProgramsChart"></canvas>
                        </div>
                        <div class="chart-legend" id="programsLegend"></div>
                    </div>

                    <!-- Top Universities Chart -->
                    <div class="chart-card">
                        <h3 class="chart-card-title">Passing Rate</h3>
                        <div class="chart-wrapper">
                            <canvas id="topUniversitiesChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Program Details Section -->
            <section class="details-section">
                <div class="section-header">
                    <h2 class="section-title">Program Details</h2>
                    <div class="details-controls">
                        <div class="dropdown">
                            <button class="btn-control" id="btnShowHide" aria-haspopup="true" aria-expanded="false">
                                <i class="bi bi-list-ul"></i>
                                Show/Hide Rows
                            </button>
                            <div class="dropdown-menu-custom" id="showHideMenu">
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-passers" checked >
                                    <label for="cat-passers">Passing Rate</label>
                                </div>
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-tuition" checked >
                                    <label for="cat-tuition">Tuition</label>
                                </div>
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-type" checked >
                                    <label for="cat-type">Type</label>
                                </div>
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-location" checked >
                                    <label for="cat-location">Location</label>
                                </div>
                                <hr class="dropdown-divider">
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-examinees">
                                    <label for="cat-examinees">Passers/Examinees</label>
                                </div>
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-firsttimers">
                                    <label for="cat-firsttimers">First Timers</label>
                                </div>
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-repeaters">
                                    <label for="cat-repeaters">Repeaters</label>
                                </div>
                                <div class="dropdown-item-custom">
                                    <input type="checkbox" id="cat-topnotchers">
                                    <label for="cat-topnotchers">Topnotchers</label>
                                </div>
                            </div>
                        </div>
                        <button class="btn-control btn-add" id="btnAdd">
                            <i class="bi bi-plus-lg"></i>
                            Add
                        </button>
                        <button class="btn-control btn-delete" id="btnDelete">
                            <i class="bi bi-trash-fill"></i>
                            Delete
                        </button>
                    </div>
                </div>

                <!-- Program Cards Grid -->
                <div class="program-cards-grid" id="programCardsGrid">
                    <!-- Cards will be inserted here by JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- Compare Modal for Adding Programs -->
    <div class="modal fade" id="compareModal" tabindex="-1" aria-labelledby="compareModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content compare-modal-content">
                <div class="modal-header compare-modal-header">
                    <h5 class="modal-title" id="compareModalLabel">Add Programs to Compare</h5>
                    <button type="button" class="btn-close-custom" data-bs-dismiss="modal" aria-label="Close">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
                <div class="modal-body compare-modal-body">
                    <!-- Search Bar -->
                    <div class="compare-search-container">
                        <input 
                            type="search" 
                            id="compareSearchInput" 
                            class="compare-search-input" 
                            placeholder="Search programs to add..."
                            aria-label="Search programs">
                        <i class="bi bi-search compare-search-icon"></i>
                    </div>

                    <!-- Search Results -->
                    <div class="compare-search-results" id="compareSearchResults" style="display: none;"></div>

                    <!-- Currently Selected Programs -->
                    <div class="compare-selected-label" id="compareSelectedLabel">
                        <h6>Currently Comparing (<span id="compareCount">0</span>)</h6>
                    </div>
                    <div class="compare-programs-list" id="compareProgramsList">
                        <!-- Programs will be added here dynamically -->
                    </div>
                </div>
                <div class="modal-footer compare-modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <script src="/static/compare.js"></script>
</body>
</html>